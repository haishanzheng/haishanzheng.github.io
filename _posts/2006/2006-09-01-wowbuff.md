---
title:  "wow自动分配buff插件"
date:   2006-09-01 10:22:41 +0800
---

通常分配buff由class leader来完成，我以前的推荐是cl做宏，但是这个宏每次有人员变动时都得更改，如果队伍调换了理论上也应该更改，显得麻烦，于是我萌发了写个插件来做这个事情的念头。  

自动分配插件的分配策略是：  

首先检查每个队，如果队里有可以buff的队员，则这个队让这个队员负责。  
对还没有人buff的队，任意找出一个没有分配到任务的队员，分配给他负责。  
对还没有人buff的队（发生在队伍数目比可buff队员多的情况下），随机找到一个已经分配了任务的队员，分配给他负责，但是这个队员的最高分配不高于（总队数/总可以buff队员数）。  

目前插件已经实现以上功能，考虑以后修改：  
对于牧师的韧和精神，应该考虑整合起来，有时会发生某个牧师（rp太差）加2个队的韧和2个队的精神，而某个没有精神的牧师只加1个队的韧。  
考虑在单数队的队员尽量分配单数的队伍，便于记忆。  
不考虑无mana队不分配智力的情况，因为调整队伍时时会发生。  
掉线或者不在区域的队员的问题。  

