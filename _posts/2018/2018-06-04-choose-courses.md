---
title:  "再来说说选课吧"
date:   2018-06-04 15:28:09 +0800
---

## 序

“我几年前就在高校信息化圈子里吹过，选课就应该抄袭淘宝购物流程，老师们都是掌柜，上架一些课程，要营销，张口闭口“亲”字挂嘴上。评论和大家说体系加上。”

“理想情况下应该是这样子的。。。”

“目前你可以这样苟且，但是远方应该是。。。”

郑海山两眼泛着光，说到兴奋的时候，他会像孩子一样用力地拍打着轮椅，仿佛要用尽全身的力气打破这物理上的桎梏，向着天玺AB塔中间的夕阳奔跑。

我们的对话就在这所全中国最美丽的大学校园内一个人工湖旁边展开，桌上几元一杯的咖啡彰显了在全民创业大潮里校方对学生创业团队的呵护，不远处两只黑天鹅在水面追逐嬉戏，如同这所大学里随处可见的情侣一般。

后来的事情大家也都知道了，因为他是个程序员，对他不了解的业务发表了错误的看法，被蜂拥而来的人打断了双腿。

“你后悔过么？”我调了调主录音笔和备用录音笔的角度，以便能更清晰地录下这突如其来的沉默。“我真没想过这个问题。”郑海山想了很久，说，彼时他的目光越过火红的凤凰花，停在了五老峰山脚下的南普陀寺。

![](/images/2018/choose-courses.jpg)

## 现在来说说选课吧

这个话题从去年底某智慧校园公司使用Docker演示高并发环境下秒级选课就有了念头，但是一直没有付诸实际，因为很多事情想不明白，但是挖的坑是要填的，于是我想了一句话概括，那就是“**选课功夫在选课外**”、“**榨干所有资源**”。

## 教务系统确实复杂

教务实际上是整个学校的核心，从学籍管理、课程管理、培养方案、执行计划、教学任务、排课管理、选课、考务、成绩、教学质量、毕业设计管理、教材管理、科研和学科竞赛、实训、教室管理有一大堆的功能点，而其中选课又是这一切的核心。课程有主修、辅修、重修、跨校学分认定、补考、前置课程。在个性化办学理念下，一千个学生就有一千张课程表。

而优秀教师的资源稀缺，加上众多的约束条件：教室的大小、地理位置分布、多媒体配套设施、老教授的健康状况、教学楼中央空调整体开放的能源损耗和教室维护人员的工作量。

再往前，培养方案和开课计划的确定。这一切，只有引入互联网思维，通过大数据收集，在业务系统各个地方埋点，**对数据进行运营**，观察点击率、跳出率、转换率，形成一个可代码化清晰的培养方案和一个有向图的课程地图。然后再加一些计划经济的干预。如果完全市场化，那很多冷门或理论课程就没人选了，很多人会选择简单、实用性强的课程。教学不能像某些头条那样，你看了一篇屎，就全部给你推荐S、N、P。

斯坦福大学2025计划提出“以学生为中心”的自适应成长体系走得更远，但是也就是扯，大家都是有懒癌的，不集中在4年把所有东西学完，会有人终生学习？

## 课程库

课程库参照淘宝商品库。万能的淘宝其实是一个商品的大WIKI，你可以在里面找到所有商品的介绍、使用方法、效果。老师们比照掌柜，助教就是客服，把所有课程和课程相关的资源放到介绍页面，鼓励学生收藏、提问、加购物车。

开课计划就根据购物车和收藏夹做预测，动态调整教室座位库存，预热备货，推荐课程。还有7天无理由退选课，选课送超值礼包“课程资料大全.rar”。

营销手段都用上。某大学有教务哥，媲美几年前的京东客服MM。

总之一切都要活泼，活泼，活泼。

课程库的界面比对淘宝商品界面，抄袭到像素级，一是为了摆对姿态，二是为了让使用者的学习成本最低。

## 选课，榨干所有资源

以某大学为例，地处某个旅游小岛，周边房价在5万，一个50平的教室就是一辆超级豪车，出租为70元/平/月。而管理这些教室的信息系统的建设成本与之相比可忽略不计，如何把教室资源榨干，让“空余教室”查询的列表永远为空？

某成立于剑桥大学的公司专门做稀缺资源编排的方案，可以先选后排也可以先排后选，可以最终统计教室使用率、上课人数统计、教师工作量分析，并最终为决策（教师招聘、楼宇建设）提供支持。

选课实际上是个撮合系统，选课有他的显示度，外人看到的只是选课的一瞬间，但是实际上系统应当在后台做很多事情来预先处理选课的所有逻辑和问题。如果在前期已经通过预热匹配了大部分学生的需求，那真正选课时就比较简单了。选课的规则可以是简单粗暴使用无限手套筛选，也可以根据成绩高低为好老师找好学生，为好学生找好老师。而技术问题在现在早就不是问题了，顶多再处理下速度、应对程序刷、防止通过退选贩卖课程、抽签透明度的问题。

所以不多说了，选课功夫在选课外。
